#lang sicp
;练习1.5 Ben Bitdiddle 发明了一种检测方法，能够确定解释器究竟采用哪种序求值，是采用应用序，还是采用正则序。他定义了下面两个过程：
(define (p) (p))
;首先,可以确定的是,无论解释器使用的是什么求值方式,调用 (p) 总是进入一个无限循环(infinite loop),因为函数 p 会不断调用自身

(define (test x y)
  (if (= x 0)
      0
      y))
;而后他求值下面的表达式：
(test 0 (p))
;如果某个解释器采用的是应用序求值，Ben 会看到什么样的情况？如果解释器采用正则序求值，他又会看到什么情况？请对你的回答做出解释。(无论采用正则序或者应用序，假定特殊形式
;if 的求值规则总是一样的。其中的谓词部分先行求值，根据其结果确定随后求值的子表达式部分。）

;解：解释这道题首先得先知道什么是正则序求值和应用序求值，从本书1.1.5 小节可以了解到:
; 正则序求值： 将程序“完全展开而后求约” 的求值模型称为正则序求值，意思是，传入的实际参数只有在有需要时才会被求值。
; 应用序求值： “先求值参数而后应用” 的方式称为应用序求值，意思是：所有被传入的实际参数都会立即被求值
; 运行程序发现，陷入停滞，lisp 采用应用序求值。
; lisp 采用应用序求值 好处是:避免对于表达式的重复求值,从而可以提高一些效率。
; 如果是正则序求值，会直接返回0，因为只有当 (p) 需要用来操作是才会计算，x = 0 直接返回0 了，p 永远不会被用到。

